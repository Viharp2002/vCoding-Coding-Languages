{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/vihar/OneDrive/Desktop/stuff/myProjects/vcoder/server/client/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/vihar/OneDrive/Desktop/stuff/myProjects/vcoder/server/client/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/vihar/OneDrive/Desktop/stuff/myProjects/vcoder/server/client/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/vihar/OneDrive/Desktop/stuff/myProjects/vcoder/server/client/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/vihar/OneDrive/Desktop/stuff/myProjects/vcoder/server/client/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(props){var usNavigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var namevihar,valuevihar;var handleInputs=function handleInputs(e){namevihar=e.target.name;valuevihar=e.target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},namevihar,valuevihar)));};var postData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var password,email,res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();password=user.password,email=user.email;_context.next=4;return fetch(\"/loginadmin\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})});case 4:res=_context.sent;_context.next=7;return res.json();case 7:data=_context.sent;if(res.status===422){window.alert(data.msg);}else{window.alert(\"Success\");localStorage.setItem('sanket',data.msg);props.setCookie(data.msg);usNavigate(\"/\");}case 9:case\"end\":return _context.stop();}}},_callee);}));return function postData(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"vh-100 d-flex justify-content-center align-items-center \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-5 p-5 shadow-sm border rounded-5 border-primary bg-white\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4 text-primary\",children:\"Login Form\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:user.email,onChange:handleInputs,className:\"form-control border border-primary\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:user.password,onChange:handleInputs,className:\"form-control border border-primary\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"small\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-primary\",href:\"forget-password.html\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:postData,type:\"submit\",children:\"Login\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0  text-center\",children:[\"Forget Password? \",/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"text-primary fw-bold\",children:\"Click Here\"})]})})]})})});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Login","props","usNavigate","email","password","user","setUser","namevihar","valuevihar","handleInputs","e","target","name","value","postData","preventDefault","fetch","method","headers","body","JSON","stringify","res","json","data","status","window","alert","msg","localStorage","setItem","setCookie"],"sources":["C:/Users/vihar/OneDrive/Desktop/stuff/myProjects/vcoder/server/client/my-app/src/components/Login.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {useNavigate} from \"react-router-dom\"\n\nconst Login = (props) => {\n\n    const usNavigate = useNavigate();\n    const[user,setUser] = useState({\n        email:\"\", password:\"\"\n    });\n\n    let namevihar,valuevihar;\n    const handleInputs = (e)=>{\n        namevihar = e.target.name;\n        valuevihar = e.target.value;\n\n        setUser({...user,[namevihar]:valuevihar});\n    }\n\n    const postData = async(e)=>{\n        e.preventDefault();\n        const{password,email} = user;\n\n        const res = await fetch(\"/loginadmin\",{\n            method: \"POST\",\n            headers:{\n                \"Content-Type\": \"application/json\"\n            },\n            body:JSON.stringify({\n                email:email,\n                password:password\n            })\n        })\n\n        const data = await res.json();\n\n        if(res.status === 422)\n        {\n            window.alert(data.msg);\n        }\n        else\n        {\n            window.alert(\"Success\");\n            localStorage.setItem('sanket',data.msg);\n            props.setCookie(data.msg);\n            usNavigate(\"/\");\n        }\n    }\n\n  return (\n    <>\n     <div className=\"vh-100 d-flex justify-content-center align-items-center \">\n            <div className=\"col-md-5 p-5 shadow-sm border rounded-5 border-primary bg-white\">\n                <h2 className=\"text-center mb-4 text-primary\">Login Form</h2>\n                <form>\n                    <div className=\"mb-3\">\n                        <label for=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\n                        <input type=\"email\" name=\"email\" value={user.email} onChange={handleInputs} className=\"form-control border border-primary\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\"/>\n                    </div>\n                    <div className=\"mb-3\">\n                        <label for=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n                        <input type=\"password\" name=\"password\" value={user.password} onChange={handleInputs} className=\"form-control border border-primary\" id=\"exampleInputPassword1\"/>\n                    </div>\n                    <p className=\"small\"><a className=\"text-primary\" href=\"forget-password.html\">Forgot password?</a></p>\n                    <div className=\"d-grid\">\n                        <button className=\"btn btn-primary\" onClick={postData} type=\"submit\">Login</button>\n                    </div>\n                </form>\n                <div className=\"mt-3\">\n                    <p className=\"mb-0  text-center\">Forget Password? <a href=\"/\"\n                            className=\"text-primary fw-bold\">Click Here</a></p>\n                </div>\n            </div>\n        </div> \n    </>\n  )\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}